"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1835],{7574:(w,O,r)=>{r.d(O,{o:()=>A});var f=r(520),m=r(2096),c=r(849),y=r(5649);let A=(()=>{class u{constructor(d,t,b){this.storage=d,this.navCtrl=t,this.httpClient=b}verificar(){this.storage.get("datos_piloto").then(d=>{if(!d)return console.log("Login","Inactivo"),this.navCtrl.navigateRoot("/login")})}getUser(){return new Promise((d,t)=>{this.storage.get("datos_piloto").then(b=>{d(b)},b=>{t(b.json()),console.log("error",b.json)})})}getDolarBlue(){return this.httpClient.get("https://api.bluelytics.com.ar/v2/latest")}getLugares(){const d=new f.WM({"Content-Type":"application/octet-stream"});return this.httpClient.post("https://www.libreviaje.com/admin/index.php/Api5/getLugares/",JSON.stringify({}),d)}getAviones(){const d=new f.WM({"Content-Type":"application/octet-stream"});return this.httpClient.post("https://www.libreviaje.com/admin/index.php/Api5/getAviones/",JSON.stringify({}),d)}}return u.\u0275fac=function(d){return new(d||u)(m.LFG(c.K),m.LFG(y.SH),m.LFG(f.eN))},u.\u0275prov=m.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"}),u})()},1835:(w,O,r)=>{r.r(O),r.d(O,{Tab1PageModule:()=>U});var f=r(9808),m=r(4182),c=r(5649),y=r(9800),A=r(655),u=r(8159),T=r(520),d=r(9825),t=r(2096),b=r(849),_=r(7574);function D(o,g){if(1&o){const s=t.EpF();t.TgZ(0,"ion-button",16),t.NdJ("click",function(){t.CHM(s);const a=t.oxw().$implicit;return t.oxw(2).presentModal(a.DESTINO,a.PRECIO,a.FOTO_DESTINO,a.ASIENTOS,a.ASIENTOS_ORIGEN,a.idPILOTOS_DESTINOS,a.DIA_HORA,a.SALIDA,a.idAVIONES,a.MARCA,a.MODELO)}),t._uU(1,"EDITAR"),t.qZA()}}function l(o,g){1&o&&(t.TgZ(0,"ion-label"),t._uU(1,"Podr\xe1s republicar despu\xe9s de la fecha."),t.qZA())}function e(o,g){if(1&o&&(t.TgZ(0,"ion-slide")(1,"ion-card",5),t._UZ(2,"img",6),t.TgZ(3,"ion-card-header")(4,"ion-card-title",7),t._uU(5),t.qZA(),t.TgZ(6,"ion-card-title",8),t._UZ(7,"ion-icon",9)(8,"ion-icon",9)(9,"ion-icon",9)(10,"ion-icon",9),t.qZA(),t.TgZ(11,"ion-card-subtitle"),t._UZ(12,"ion-icon",10),t._uU(13),t.qZA(),t.TgZ(14,"ion-card-subtitle"),t._UZ(15,"ion-icon",11),t._uU(16),t.qZA(),t.TgZ(17,"ion-card-subtitle"),t._UZ(18,"ion-icon",12),t._uU(19),t.ALo(20,"date"),t.ALo(21,"date"),t.ALo(22,"date"),t.ALo(23,"date"),t.qZA()(),t._UZ(24,"ion-card-content",13),t.TgZ(25,"ion-card-content"),t.YNc(26,D,2,0,"ion-button",14),t.YNc(27,l,2,0,"ion-label",15),t.qZA()()()),2&o){const s=g.$implicit,h=t.oxw(2);t.xp6(2),t.MGl("src","https://libreviaje.com/images/",s.FOTO_PERFIL,"",t.LSH),t.xp6(3),t.Oqu(s.NOMBRE_APELLIDO),t.xp6(8),t.hij("\xa0 ",s.SALIDA,""),t.xp6(3),t.hij("\xa0 ",s.DESTINO,""),t.xp6(3),t.HOy("\xa0 ",t.xi3(20,10,s.DIA_HORA,"dd")," de ",t.xi3(21,13,s.DIA_HORA,"MMM")," de ",t.xi3(22,16,s.DIA_HORA,"yyyy")," - ",t.xi3(23,19,s.DIA_HORA,"HH:mm"),"hs. "),t.xp6(7),t.Q6J("ngIf",!0===h.showBoton),t.xp6(1),t.Q6J("ngIf",!1===h.showBoton)}}const i=function(){return{delay:2500}},n=function(o){return{slidesPerView:1,autoplay:o}};function p(o,g){if(1&o&&(t.TgZ(0,"ion-slides",3),t.YNc(1,e,28,22,"ion-slide",4),t.qZA()),2&o){const s=t.oxw();t.Q6J("options",t.VKq(3,n,t.DdM(2,i))),t.xp6(1),t.Q6J("ngForOf",s.viajesDisponibles)}}const Z=[{path:"",component:(()=>{class o{constructor(s,h,a,v,I,S,P,M,C){this.fb=s,this.http=h,this.Str=a,this.route=v,this.alertController=I,this.modalCtrl=S,this.menuCtrl=P,this.inicia=M,this.navCtrl=C,this.ver=!1,this.nover=!1,(0,d.F)(3e4).subscribe(()=>{this.getViajesDisponibles()})}closeMenu(){this.getViajesDisponibles(),this.menuCtrl.close()}presentModal(s,h,a,v,I,S,P,M,C,j,L){return(0,A.mG)(this,void 0,void 0,function*(){yield(yield this.modalCtrl.create({component:u.C,componentProps:{mySubject:s,mySubject2:h,mySubject3:a,mySubject4:v,mySubject8:I,mySubject9:C,mySubject10:j,mySubject11:L,mySubject5:S,mySubject6:P,mySubject7:M},animated:!0,canDismiss:!0,keyboardClose:!0})).present()})}ngOnInit(){this.inicia.verificar(),this.getViajesDisponibles()}padTo2Digits(s){return s.toString().padStart(2,"0")}formatDate(s){return[s.getFullYear(),this.padTo2Digits(s.getMonth()+1),this.padTo2Digits(s.getDate())].join("-")+" "+[this.padTo2Digits(s.getHours()),this.padTo2Digits(s.getMinutes()),this.padTo2Digits(s.getSeconds())].join(":")}getViajesDisponibles(){return(0,A.mG)(this,void 0,void 0,function*(){this.ver=!1;const s=new T.WM({"Content-Type":"application/octet-stream"});this.idUSUARIO=yield this.inicia.getUser(),this.idUSUARIO=this.idUSUARIO[0].idPILOTOS,this.http.post("https://www.libreviaje.com/admin/index.php/Api5/getViajesDisponibles/",JSON.stringify({idPILOTOS:"1"}),s).subscribe(a=>{if(a){this.viajesDisponibles=a,this.ver=!0,this.okok=a[0].DIA_HORA;const v=this.formatDate(new Date);this.showBoton=!(this.okok<v),console.log("fecha actual",v),console.log("fecha base",this.okok)}else this.ver=!1},a=>{this.ver=!1,console.log(a)})})}presentAlert(s,h,a){return(0,A.mG)(this,void 0,void 0,function*(){const v=yield this.alertController.create({cssClass:"my-custom-class",header:s,subHeader:h,message:a,buttons:["Aceptar"]});yield v.present(),yield v.onDidDismiss()})}reservaViaje(s,h,a){this.presentAlert("\xa1Buen Viaje!","Realizaste la reserva para viajar desde"+h+" hasta "+a,"Debes realizar el pago de $"+s+" mediante Mercadopago al siguiente alias:<br/><strong>marcos.colombo</strong> <br/><br/>Una vez realizado el pago, deber\xe1s enviar comprobante desde la app")}}return o.\u0275fac=function(s){return new(s||o)(t.Y36(m.qu),t.Y36(T.eN),t.Y36(b.K),t.Y36(y.gz),t.Y36(c.Br),t.Y36(c.IN),t.Y36(c._q),t.Y36(_.o),t.Y36(c.SH))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-tab1"]],decls:8,vars:1,consts:[["slot","start"],["src","https://libreviaje.com/images/logo_top_new.png",2,"padding-top","5px","padding-bottom","2px","width","20%","height","20%","max-width","87px","max-height","43px"],[3,"options",4,"ngIf"],[3,"options"],[4,"ngFor","ngForOf"],[1,"ionCard"],[1,"avatar",3,"src"],["color","primary"],[1,"estrellita"],["name","star-sharp"],["name","locate"],["name","airplane-sharp"],["name","calendar-outline"],[1,"ion-card-content-class"],["shape","round","fill","outline","class","botones",3,"click",4,"ngIf"],[4,"ngIf"],["shape","round","fill","outline",1,"botones",3,"click"]],template:function(s,h){1&s&&(t.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0),t._UZ(3,"ion-menu-button"),t.qZA(),t._uU(4," \xa0 "),t._UZ(5,"img",1),t.qZA()(),t.TgZ(6,"ion-content"),t.YNc(7,p,2,5,"ion-slides",2),t.qZA()),2&s&&(t.xp6(7),t.Q6J("ngIf",!1!==h.ver))},directives:[c.Gu,c.sr,c.Sm,c.fG,c.W2,f.O5,c.Hr,f.sg,c.A$,c.PM,c.Zi,c.Dq,c.gu,c.tO,c.FN,c.YG,c.Q$],pipes:[f.uU],styles:["[_ngcontent-%COMP%]:root{--ion-safe-area-top: 20px;--ion-safe-area-bottom: 22px}.avatar[_ngcontent-%COMP%]{border-radius:50%;width:150px;height:150px;margin-top:10px}.alert-wrapper[_ngcontent-%COMP%], .my-custom-class[_ngcontent-%COMP%]   .alert-wrapper[_ngcontent-%COMP%]{background:#e5e5e5}.ion-card-content-class[_ngcontent-%COMP%]{max-width:300px;text-align:justify}.estrellita[_ngcontent-%COMP%]{color:#f2cc0c}.fab_boton[_ngcontent-%COMP%]{color:#8c1b24}"]}),o})()}];let E=(()=>{class o{}return o.\u0275fac=function(s){return new(s||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[y.Bz.forChild(Z)],y.Bz]}),o})(),U=(()=>{class o{}return o.\u0275fac=function(s){return new(s||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[f.ez,m.u5,c.Pc,E,T.JF,m.UX]]}),o})()},9825:(w,O,r)=>{r.d(O,{F:()=>_});var f=r(2916),m=r(2654);class c extends m.w{constructor(e,i){super()}schedule(e,i=0){return this}}let A=(()=>{class l{constructor(i,n=l.now){this.SchedulerAction=i,this.now=n}schedule(i,n=0,p){return new this.SchedulerAction(this,i).schedule(p,n)}}return l.now=()=>Date.now(),l})();class u extends A{constructor(e,i=A.now){super(e,()=>u.delegate&&u.delegate!==this?u.delegate.now():i()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(e,i=0,n){return u.delegate&&u.delegate!==this?u.delegate.schedule(e,i,n):super.schedule(e,i,n)}flush(e){const{actions:i}=this;if(this.active)return void i.push(e);let n;this.active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=i.shift());if(this.active=!1,n){for(;e=i.shift();)e.unsubscribe();throw n}}}const d=new u(class y extends c{constructor(e,i){super(e,i),this.scheduler=e,this.work=i,this.pending=!1}schedule(e,i=0){if(this.closed)return this;this.state=e;const n=this.id,p=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(p,n,i)),this.pending=!0,this.delay=i,this.id=this.id||this.requestAsyncId(p,this.id,i),this}requestAsyncId(e,i,n=0){return setInterval(e.flush.bind(e,this),n)}recycleAsyncId(e,i,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return i;clearInterval(i)}execute(e,i){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(e,i);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,i){let p,n=!1;try{this.work(e)}catch(x){n=!0,p=!!x&&x||new Error(x)}if(n)return this.unsubscribe(),p}_unsubscribe(){const e=this.id,i=this.scheduler,n=i.actions,p=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==p&&n.splice(p,1),null!=e&&(this.id=this.recycleAsyncId(i,e,null)),this.delay=null}});var t=r(6688);function _(l=0,e=d){return(!function b(l){return!(0,t.k)(l)&&l-parseFloat(l)+1>=0}(l)||l<0)&&(l=0),(!e||"function"!=typeof e.schedule)&&(e=d),new f.y(i=>(i.add(e.schedule(D,l,{subscriber:i,counter:0,period:l})),i))}function D(l){const{subscriber:e,counter:i,period:n}=l;e.next(i),this.schedule({subscriber:e,counter:i+1,period:n},n)}}}]);