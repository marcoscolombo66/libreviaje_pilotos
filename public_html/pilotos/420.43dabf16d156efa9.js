"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[420],{420:(I,_,s)=>{s.r(_),s.d(_,{Tab3PageModule:()=>x});var l=s(9808),g=s(4182),a=s(5649),d=s(9800),u=s(655),m=s(520),A=s(9825),h=s(6893),b=s(2822),o=s(2096),T=s(7574);function U(t,r){if(1&t){const i=o.EpF();o.TgZ(0,"ion-label",19),o.NdJ("click",function(){o.CHM(i);const n=o.oxw().$implicit;return o.oxw(2).abrirChat(n.idPILOTOS_RESERVAS,n.idPILOTOS,n.idUSUARIO,n.MAIL_PASAJERO,n.NOMBRE_PILOTO)}),o._UZ(1,"br")(2,"ion-icon",20),o._uU(3," \xa0"),o._UZ(4,"br"),o._uU(5),o.qZA()}if(2&t){const i=o.oxw().$implicit;o.xp6(5),o.hij(" Chatear con ",i.NOMBRE_PASAJERO," ")}}function Z(t,r){if(1&t){const i=o.EpF();o.TgZ(0,"ion-label",21),o.NdJ("click",function(){o.CHM(i);const n=o.oxw().$implicit;return o.oxw(2).mensajeProcesandoPago(n.NOMBRE_PASAJERO)}),o._UZ(1,"br")(2,"ion-icon",22),o._uU(3,"\xa0"),o._UZ(4,"br"),o._uU(5," Procesando pago "),o.qZA()}}function f(t,r){if(1&t&&(o.TgZ(0,"ion-card")(1,"ion-row",3)(2,"ion-col",4),o._UZ(3,"ion-icon",10),o._uU(4),o._UZ(5,"br")(6,"ion-icon",11),o._uU(7),o.qZA(),o.TgZ(8,"ion-col",6),o._uU(9," \xa0"),o.TgZ(10,"strong"),o._UZ(11,"ion-icon",12),o._uU(12,"\xa0"),o.qZA(),o._uU(13),o.ALo(14,"date"),o._UZ(15,"br"),o._uU(16," \xa0"),o.TgZ(17,"strong"),o._UZ(18,"ion-icon",13),o._uU(19,"\xa0"),o.qZA(),o._uU(20),o.ALo(21,"date"),o._UZ(22,"br"),o._uU(23," \xa0"),o.TgZ(24,"strong"),o._UZ(25,"ion-icon",14),o._uU(26,"\xa0"),o.qZA(),o._uU(27),o._UZ(28,"br"),o._uU(29," \xa0"),o.TgZ(30,"strong"),o._UZ(31,"ion-icon",15),o._uU(32,"\xa0"),o.qZA(),o._uU(33),o._UZ(34,"br"),o._uU(35," \xa0"),o.TgZ(36,"strong"),o._UZ(37,"ion-icon",16),o._uU(38,"\xa0"),o.qZA(),o._uU(39),o.qZA(),o.TgZ(40,"ion-col",7),o.YNc(41,U,6,1,"ion-label",17),o.YNc(42,Z,6,0,"ion-label",18),o.qZA()()()),2&t){const i=r.$implicit;o.xp6(4),o.hij("\xa0 ",i.SALIDA," "),o.xp6(3),o.hij("\xa0 ",i.DESTINO," "),o.xp6(6),o.hij("\xa0",o.xi3(14,10,i.DIA_HORA_SALIDA,"dd/MM/yyyy")," "),o.xp6(7),o.hij("\xa0",o.xi3(21,13,i.DIA_HORA_SALIDA,"HH:mm"),"hs.\xa0"),o.xp6(7),o.AsE("\xa0",i.NOMBRE_PASAJERO," ",i.APELLIDO_PASAJERO," "),o.xp6(6),o.hij("\xa0",i.ASIENTOS_COMPRADOS," asientos\xa0"),o.xp6(6),o.hij("\xa0",i.ESTADO_VIAJE,"\xa0 "),o.xp6(2),o.Q6J("ngIf","PAGO"===i.ESTADO_RESERVA&&"PENDIENTE"===i.ESTADO_VIAJE),o.xp6(1),o.Q6J("ngIf","NO_PAGO"===i.ESTADO_RESERVA)}}function O(t,r){if(1&t){const i=o.EpF();o.TgZ(0,"ion-grid")(1,"ion-card")(2,"ion-row",3)(3,"ion-col",4)(4,"span",5),o._uU(5,"SALIDA / DESTINO"),o.qZA()(),o.TgZ(6,"ion-col",6)(7,"span",5),o._uU(8,"DESCRIPCI\xd3N"),o.qZA()(),o.TgZ(9,"ion-col",7)(10,"span",5),o._uU(11,"ACCI\xd3N \xa0\xa0"),o.TgZ(12,"ion-icon",8),o.NdJ("click",function(){return o.CHM(i),o.oxw().getReservasDisponibles()}),o.qZA()()()()(),o.YNc(13,f,43,16,"ion-card",9),o.qZA()}if(2&t){const i=o.oxw();o.xp6(13),o.Q6J("ngForOf",i.reservas)}}const P=[{path:"",component:(()=>{class t{constructor(i,e,n,c){this.toast=i,this.inicia=e,this.http=n,this.modalCtrl=c,this.canDismiss=!1,this.nomostrar=!0,(0,A.F)(2e4).subscribe(()=>{this.getReservasDisponibles()})}ngOnInit(){this.inicia.verificar(),this.getReservasDisponibles()}abrirEnMapa(){}voyEnCamino(){}subirComprobante(i){return(0,u.mG)(this,void 0,void 0,function*(){yield(yield this.modalCtrl.create({component:h.N,componentProps:{mySubject:i},animated:!0,canDismiss:!0})).present()})}abrirChat(i,e,n,c,p){return(0,u.mG)(this,void 0,void 0,function*(){yield(yield this.modalCtrl.create({component:b.J,componentProps:{mySubject:i,mySubject2:e,mySubject3:n,mySubject4:c,mySubject5:p},animated:!0,canDismiss:!0,keyboardClose:!0})).present()})}presentToast(i,e,n,c){return(0,u.mG)(this,void 0,void 0,function*(){(yield this.toast.create({message:i,duration:e,icon:n,cssClass:c,position:"top"})).present()})}mensajeProcesandoPago(i){this.presentToast("Se esta procesando el pago. <br/>Una vez que "+i+" pague la reserva, se habilitar\xe1 el chat",3e3,"time","mensaje-toast")}getReservasDisponibles(){return(0,u.mG)(this,void 0,void 0,function*(){this.nomostrar=!1;const i=new m.WM({"Content-Type":"application/octet-stream"});this.idUSUARIO=yield this.inicia.getUser(),this.idUSUARIO=this.idUSUARIO[0].idPILOTOS,this.http.post("https://www.libreviaje.com/admin/index.php/Api5/getReservasDisponibles/",JSON.stringify({idPILOTOS:this.idUSUARIO}),i).subscribe(n=>{this.reservas=n,this.nomostrar=!0},n=>{this.nomostrar=!1,console.log(n)})})}}return t.\u0275fac=function(i){return new(i||t)(o.Y36(a.yF),o.Y36(T.o),o.Y36(m.eN),o.Y36(a.IN))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-tab3"]],decls:8,vars:1,consts:[["slot","start"],["src","assets/logo_top.png",2,"padding-top","5px","padding-bottom","2px","width","20%","height","20%","max-width","87px","max-height","43px"],[4,"ngIf"],[1,"etiqueta"],["size","5"],[2,"font-weight","bold","color","#2c0e4c"],["size","4"],["size","3",2,"text-align","center"],["name","refresh-outline",2,"font-weight","bold","color","#2c0e4c","font-size","20px",3,"click"],[4,"ngFor","ngForOf"],["name","locate-sharp"],["name","pin-sharp"],["name","calendar-sharp"],["name","time-sharp"],["name","person-sharp"],["name","logo-steam",1,"rotate-90"],["name","airplane-sharp"],[3,"click",4,"ngIf"],["class","etiqueta",3,"click",4,"ngIf"],[3,"click"],["name","chatbubble-ellipses-outline",2,"color","#2c0e4c","font-size","22px"],[1,"etiqueta",3,"click"],["name","time-outline",2,"font-size","22px","color","#2c0e4c"]],template:function(i,e){1&i&&(o.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0),o._UZ(3,"ion-menu-button"),o.qZA(),o._uU(4," \xa0 "),o._UZ(5,"img",1),o.qZA()(),o.TgZ(6,"ion-content"),o.YNc(7,O,14,1,"ion-grid",2),o.qZA()),2&i&&(o.xp6(7),o.Q6J("ngIf",e.nomostrar))},directives:[a.Gu,a.sr,a.Sm,a.fG,a.W2,l.O5,a.jY,a.PM,a.Nd,a.wI,a.gu,l.sg,a.Q$],pipes:[l.uU],styles:[""]}),t})()}];let S=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[d.Bz.forChild(P)],d.Bz]}),t})(),x=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[l.ez,g.u5,g.UX,a.Pc,S]]}),t})()}}]);