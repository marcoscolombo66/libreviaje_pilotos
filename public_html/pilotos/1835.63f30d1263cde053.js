"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1835],{7574:(j,y,r)=>{r.d(y,{o:()=>A});var f=r(520),m=r(2096),a=r(849),v=r(5649);let A=(()=>{class u{constructor(d,t,b){this.storage=d,this.navCtrl=t,this.httpClient=b}verificar(){this.storage.get("datos_piloto").then(d=>{if(!d)return console.log("Login","Inactivo"),this.navCtrl.navigateRoot("/login")})}getUser(){return new Promise((d,t)=>{this.storage.get("datos_piloto").then(b=>{d(b)},b=>{t(b.json()),console.log("error",b.json)})})}getDolarBlue(){return this.httpClient.get("https://api.bluelytics.com.ar/v2/latest")}getLugares(){const d=new f.WM({"Content-Type":"application/octet-stream"});return this.httpClient.post("https://www.libreviaje.com/admin/index.php/Api5/getLugares/",JSON.stringify({}),d)}getAviones(){const d=new f.WM({"Content-Type":"application/octet-stream"});return this.httpClient.post("https://www.libreviaje.com/admin/index.php/Api5/getAviones/",JSON.stringify({}),d)}}return u.\u0275fac=function(d){return new(d||u)(m.LFG(a.K),m.LFG(v.SH),m.LFG(f.eN))},u.\u0275prov=m.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"}),u})()},1835:(j,y,r)=>{r.r(y),r.d(y,{Tab1PageModule:()=>E});var f=r(9808),m=r(4182),a=r(5649),v=r(9800),A=r(655),u=r(8159),T=r(520),d=r(9825),t=r(2096),b=r(849),_=r(7574);function D(o,g){if(1&o){const e=t.EpF();t.TgZ(0,"ion-button",16),t.NdJ("click",function(){t.CHM(e);const c=t.oxw().$implicit;return t.oxw(2).presentModal(c.DESTINO,c.PRECIO,c.FOTO_DESTINO,c.ASIENTOS,c.ASIENTOS_ORIGEN,c.idPILOTOS_DESTINOS,c.DIA_HORA,c.SALIDA,c.idAVIONES,c.MARCA,c.MODELO)}),t._uU(1,"EDITAR"),t.qZA()}}function l(o,g){1&o&&(t.TgZ(0,"ion-label"),t._uU(1,"Podr\xe1s republicar despu\xe9s de la fecha."),t.qZA())}function i(o,g){if(1&o&&(t.TgZ(0,"ion-slide")(1,"ion-card",5),t._UZ(2,"img",6),t.TgZ(3,"ion-card-header")(4,"ion-card-title",7),t._uU(5),t.qZA(),t.TgZ(6,"ion-card-title",8),t._UZ(7,"ion-icon",9)(8,"ion-icon",9)(9,"ion-icon",9)(10,"ion-icon",9),t.qZA(),t.TgZ(11,"ion-card-subtitle"),t._UZ(12,"ion-icon",10),t._uU(13),t.qZA(),t.TgZ(14,"ion-card-subtitle"),t._UZ(15,"ion-icon",11),t._uU(16),t.qZA(),t.TgZ(17,"ion-card-subtitle"),t._UZ(18,"ion-icon",12),t._uU(19),t.ALo(20,"date"),t.ALo(21,"date"),t.ALo(22,"date"),t.ALo(23,"date"),t.qZA()(),t._UZ(24,"ion-card-content",13),t.TgZ(25,"ion-card-content"),t.YNc(26,D,2,0,"ion-button",14),t.YNc(27,l,2,0,"ion-label",15),t.qZA()()()),2&o){const e=g.$implicit,h=t.oxw(2);t.xp6(2),t.MGl("src","https://libreviaje.com/images/",e.FOTO_PERFIL,"",t.LSH),t.xp6(3),t.Oqu(e.NOMBRE_APELLIDO),t.xp6(8),t.hij("\xa0 ",e.SALIDA,""),t.xp6(3),t.hij("\xa0 ",e.DESTINO,""),t.xp6(3),t.HOy("\xa0 ",t.xi3(20,10,e.DIA_HORA,"dd")," de ",t.xi3(21,13,e.DIA_HORA,"MMM")," de ",t.xi3(22,16,e.DIA_HORA,"yyyy")," - ",t.xi3(23,19,e.DIA_HORA,"HH:mm"),"hs. "),t.xp6(7),t.Q6J("ngIf",h.okok>e.DIA_HORA),t.xp6(1),t.Q6J("ngIf",h.okok<e.DIA_HORA)}}const s=function(){return{delay:2500}},n=function(o){return{slidesPerView:1,autoplay:o}};function p(o,g){if(1&o&&(t.TgZ(0,"ion-slides",3),t.YNc(1,i,28,22,"ion-slide",4),t.qZA()),2&o){const e=t.oxw();t.Q6J("options",t.VKq(3,n,t.DdM(2,s))),t.xp6(1),t.Q6J("ngForOf",e.viajesDisponibles)}}const U=[{path:"",component:(()=>{class o{constructor(e,h,c,O,x,S,P,M,C){this.fb=e,this.http=h,this.Str=c,this.route=O,this.alertController=x,this.modalCtrl=S,this.menuCtrl=P,this.inicia=M,this.navCtrl=C,this.ver=!1,this.nover=!1,(0,d.F)(3e4).subscribe(()=>{this.getViajesDisponibles()})}closeMenu(){this.getViajesDisponibles(),this.menuCtrl.close()}presentModal(e,h,c,O,x,S,P,M,C,Z,R){return(0,A.mG)(this,void 0,void 0,function*(){yield(yield this.modalCtrl.create({component:u.C,componentProps:{mySubject:e,mySubject2:h,mySubject3:c,mySubject4:O,mySubject8:x,mySubject9:C,mySubject10:Z,mySubject11:R,mySubject5:S,mySubject6:P,mySubject7:M},animated:!0,canDismiss:!0,keyboardClose:!0})).present()})}ngOnInit(){this.inicia.verificar(),this.getViajesDisponibles()}padTo2Digits(e){return e.toString().padStart(2,"0")}formatDate(e){return[e.getFullYear(),this.padTo2Digits(e.getMonth()+1),this.padTo2Digits(e.getDate())].join("-")+" "+[this.padTo2Digits(e.getHours()),this.padTo2Digits(e.getMinutes()),this.padTo2Digits(e.getSeconds())].join(":")}getViajesDisponibles(){return(0,A.mG)(this,void 0,void 0,function*(){this.ver=!1;const e=new T.WM({"Content-Type":"application/octet-stream"});this.idUSUARIO=yield this.inicia.getUser(),this.idUSUARIO=this.idUSUARIO[0].idPILOTOS,this.http.post("https://www.libreviaje.com/admin/index.php/Api5/getViajesDisponibles/",JSON.stringify({idPILOTOS:this.idUSUARIO}),e).subscribe(c=>{c?(this.viajesDisponibles=c,this.ver=!0,this.okok=this.formatDate(new Date)):this.ver=!1},c=>{this.ver=!1,console.log(c)})})}presentAlert(e,h,c){return(0,A.mG)(this,void 0,void 0,function*(){const O=yield this.alertController.create({cssClass:"my-custom-class",header:e,subHeader:h,message:c,buttons:["Aceptar"]});yield O.present(),yield O.onDidDismiss()})}reservaViaje(e,h,c){this.presentAlert("\xa1Buen Viaje!","Realizaste la reserva para viajar desde"+h+" hasta "+c,"Debes realizar el pago de $"+e+" mediante Mercadopago al siguiente alias:<br/><strong>marcos.colombo</strong> <br/><br/>Una vez realizado el pago, deber\xe1s enviar comprobante desde la app")}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(m.qu),t.Y36(T.eN),t.Y36(b.K),t.Y36(v.gz),t.Y36(a.Br),t.Y36(a.IN),t.Y36(a._q),t.Y36(_.o),t.Y36(a.SH))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-tab1"]],decls:8,vars:1,consts:[["slot","start"],["src","assets/logo_top.png",2,"padding-top","5px","padding-bottom","2px","width","20%","height","20%","max-width","87px","max-height","43px"],[3,"options",4,"ngIf"],[3,"options"],[4,"ngFor","ngForOf"],[1,"ionCard"],[1,"avatar",3,"src"],["color","primary"],[1,"estrellita"],["name","star-sharp"],["name","locate"],["name","airplane-sharp"],["name","calendar-outline"],[1,"ion-card-content-class"],["shape","round","fill","outline","class","botones",3,"click",4,"ngIf"],[4,"ngIf"],["shape","round","fill","outline",1,"botones",3,"click"]],template:function(e,h){1&e&&(t.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0),t._UZ(3,"ion-menu-button"),t.qZA(),t._uU(4," \xa0 "),t._UZ(5,"img",1),t.qZA()(),t.TgZ(6,"ion-content"),t.YNc(7,p,2,5,"ion-slides",2),t.qZA()),2&e&&(t.xp6(7),t.Q6J("ngIf",!1!==h.ver))},directives:[a.Gu,a.sr,a.Sm,a.fG,a.W2,f.O5,a.Hr,f.sg,a.A$,a.PM,a.Zi,a.Dq,a.gu,a.tO,a.FN,a.YG,a.Q$],pipes:[f.uU],styles:["[_ngcontent-%COMP%]:root{--ion-safe-area-top: 20px;--ion-safe-area-bottom: 22px}.avatar[_ngcontent-%COMP%]{border-radius:50%;width:150px;height:150px;margin-top:10px}.alert-wrapper[_ngcontent-%COMP%], .my-custom-class[_ngcontent-%COMP%]   .alert-wrapper[_ngcontent-%COMP%]{background:#e5e5e5}.ion-card-content-class[_ngcontent-%COMP%]{max-width:300px;text-align:justify}.estrellita[_ngcontent-%COMP%]{color:#f2cc0c}.fab_boton[_ngcontent-%COMP%]{color:#8c1b24}"]}),o})()}];let w=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[v.Bz.forChild(U)],v.Bz]}),o})(),E=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[f.ez,m.u5,a.Pc,w,T.JF,m.UX]]}),o})()},9825:(j,y,r)=>{r.d(y,{F:()=>_});var f=r(2916),m=r(2654);class a extends m.w{constructor(i,s){super()}schedule(i,s=0){return this}}let A=(()=>{class l{constructor(s,n=l.now){this.SchedulerAction=s,this.now=n}schedule(s,n=0,p){return new this.SchedulerAction(this,s).schedule(p,n)}}return l.now=()=>Date.now(),l})();class u extends A{constructor(i,s=A.now){super(i,()=>u.delegate&&u.delegate!==this?u.delegate.now():s()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(i,s=0,n){return u.delegate&&u.delegate!==this?u.delegate.schedule(i,s,n):super.schedule(i,s,n)}flush(i){const{actions:s}=this;if(this.active)return void s.push(i);let n;this.active=!0;do{if(n=i.execute(i.state,i.delay))break}while(i=s.shift());if(this.active=!1,n){for(;i=s.shift();)i.unsubscribe();throw n}}}const d=new u(class v extends a{constructor(i,s){super(i,s),this.scheduler=i,this.work=s,this.pending=!1}schedule(i,s=0){if(this.closed)return this;this.state=i;const n=this.id,p=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(p,n,s)),this.pending=!0,this.delay=s,this.id=this.id||this.requestAsyncId(p,this.id,s),this}requestAsyncId(i,s,n=0){return setInterval(i.flush.bind(i,this),n)}recycleAsyncId(i,s,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return s;clearInterval(s)}execute(i,s){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(i,s);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(i,s){let p,n=!1;try{this.work(i)}catch(I){n=!0,p=!!I&&I||new Error(I)}if(n)return this.unsubscribe(),p}_unsubscribe(){const i=this.id,s=this.scheduler,n=s.actions,p=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==p&&n.splice(p,1),null!=i&&(this.id=this.recycleAsyncId(s,i,null)),this.delay=null}});var t=r(6688);function _(l=0,i=d){return(!function b(l){return!(0,t.k)(l)&&l-parseFloat(l)+1>=0}(l)||l<0)&&(l=0),(!i||"function"!=typeof i.schedule)&&(i=d),new f.y(s=>(s.add(i.schedule(D,l,{subscriber:s,counter:0,period:l})),s))}function D(l){const{subscriber:i,counter:s,period:n}=l;i.next(s),this.schedule({subscriber:i,counter:s+1,period:n},n)}}}]);