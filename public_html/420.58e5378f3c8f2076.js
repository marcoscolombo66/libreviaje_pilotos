"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[420],{420:(E,d,e)=>{e.r(d),e.d(d,{Tab3PageModule:()=>v});var c=e(9808),p=e(4182),a=e(5649),g=e(9800),l=e(655),A=e(520),m=e(9825),b=e(6893),h=e(2822),i=e(2096),T=e(7574);function _(t,s){if(1&t){const o=i.EpF();i.TgZ(0,"ion-label",10),i.NdJ("click",function(){i.CHM(o);const n=i.oxw().$implicit;return i.oxw(2).abrirChat(n.idPILOTOS_RESERVAS,n.idPILOTOS,n.idUSUARIO,n.MAIL_PASAJERO,n.NOMBRE_PILOTO)}),i._UZ(1,"ion-icon",11),i.qZA()}}function f(t,s){1&t&&(i.TgZ(0,"ion-label",3),i._UZ(1,"ion-icon",12),i._uU(2,"\xa0Esperando pago de Reserva"),i.qZA())}function O(t,s){if(1&t&&(i.TgZ(0,"ion-card")(1,"ion-row",3)(2,"ion-col",4),i._uU(3),i.qZA(),i.TgZ(4,"ion-col",4),i._uU(5),i.ALo(6,"date"),i.ALo(7,"date"),i.ALo(8,"date"),i.ALo(9,"date"),i.TgZ(10,"strong"),i._uU(11,"Viaje:"),i.qZA(),i._uU(12),i.qZA(),i.TgZ(13,"ion-col",4),i.YNc(14,_,2,0,"ion-label",8),i.YNc(15,f,3,0,"ion-label",9),i.qZA()()()),2&t){const o=s.$implicit;i.xp6(3),i.AsE(" ",o.SALIDA," -> ",o.DESTINO," "),i.xp6(2),i.Q0o(" [\xa0",i.xi3(6,12,o.DIA_HORA_SALIDA,"dd")," de ",i.xi3(7,15,o.DIA_HORA_SALIDA,"MMM")," de ",i.xi3(8,18,o.DIA_HORA_SALIDA,"yyyy")," - ",i.xi3(9,21,o.DIA_HORA_SALIDA,"HH:mm"),"hs. - ",o.NOMBRE_PASAJERO," ",o.APELLIDO_PASAJERO," - ",o.ASIENTOS_COMPRADOS," asientos \xa0-\xa0 "),i.xp6(7),i.hij(" ",o.ESTADO_VIAJE,"\xa0] "),i.xp6(2),i.Q6J("ngIf","PAGO"===o.ESTADO_RESERVA&&"PENDIENTE"===o.ESTADO_VIAJE),i.xp6(1),i.Q6J("ngIf","NO_PAGO"===o.ESTADO_RESERVA)}}function S(t,s){if(1&t){const o=i.EpF();i.TgZ(0,"ion-grid")(1,"ion-card")(2,"ion-row",3)(3,"ion-col",4)(4,"span",5),i._uU(5,"SALIDA / DESTINO"),i.qZA()(),i.TgZ(6,"ion-col",4)(7,"span",5),i._uU(8,"DESCRIPCI\xd3N"),i.qZA()(),i.TgZ(9,"ion-col",4)(10,"span",5),i._uU(11,"ACCI\xd3N \xa0\xa0"),i.TgZ(12,"ion-icon",6),i.NdJ("click",function(){return i.CHM(o),i.oxw().getReservasDisponibles()}),i.qZA()()()()(),i.YNc(13,O,16,24,"ion-card",7),i.qZA()}if(2&t){const o=i.oxw();i.xp6(13),i.Q6J("ngForOf",o.reservas)}}const I=[{path:"",component:(()=>{class t{constructor(o,r,n){this.inicia=o,this.http=r,this.modalCtrl=n,this.canDismiss=!1,this.nomostrar=!0,(0,m.F)(2e4).subscribe(()=>{this.getReservasDisponibles()})}ngOnInit(){this.inicia.verificar(),this.getReservasDisponibles()}abrirEnMapa(){}voyEnCamino(){}subirComprobante(o){return(0,l.mG)(this,void 0,void 0,function*(){yield(yield this.modalCtrl.create({component:b.N,breakpoints:[0,.99],initialBreakpoint:.99,handle:!0,componentProps:{mySubject:o},animated:!0,canDismiss:!0})).present()})}abrirChat(o,r,n,u,x){return(0,l.mG)(this,void 0,void 0,function*(){yield(yield this.modalCtrl.create({component:h.J,componentProps:{mySubject:o,mySubject2:r,mySubject3:n,mySubject4:u,mySubject5:x},animated:!0,canDismiss:!0,keyboardClose:!0})).present()})}getReservasDisponibles(){return(0,l.mG)(this,void 0,void 0,function*(){this.nomostrar=!1;const o=new A.WM({"Content-Type":"application/octet-stream"});this.idUSUARIO=yield this.inicia.getUser(),this.idUSUARIO=this.idUSUARIO[0].idPILOTOS,this.http.post("https://www.libreviaje.com/admin/index.php/Api5/getReservasDisponibles/",JSON.stringify({idPILOTOS:this.idUSUARIO}),o).subscribe(n=>{this.reservas=n,this.nomostrar=!0},n=>{this.nomostrar=!1,console.log(n)})})}}return t.\u0275fac=function(o){return new(o||t)(i.Y36(T.o),i.Y36(A.eN),i.Y36(a.IN))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-tab3"]],decls:8,vars:1,consts:[["slot","start"],["src","https://libreviaje.com/images/logo_top_new.png",2,"padding-top","5px","padding-bottom","2px","width","20%","height","20%","max-width","87px","max-height","43px"],[4,"ngIf"],[1,"etiqueta"],["size","4"],[2,"font-weight","bold","color","#8C1B24"],["name","refresh-outline",2,"font-weight","bold","color","#8C1B24","font-size","20px",3,"click"],[4,"ngFor","ngForOf"],[3,"click",4,"ngIf"],["class","etiqueta",4,"ngIf"],[3,"click"],["name","chatbubble-ellipses-outline",2,"color","#8C1B24","font-size","22px"],["name","time-outline",1,"etiqueta",2,"font-size","12px","color","#e0ac08"]],template:function(o,r){1&o&&(i.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0),i._UZ(3,"ion-menu-button"),i.qZA(),i._uU(4," \xa0 "),i._UZ(5,"img",1),i.qZA()(),i.TgZ(6,"ion-content"),i.YNc(7,S,14,1,"ion-grid",2),i.qZA()),2&o&&(i.xp6(7),i.Q6J("ngIf",r.nomostrar))},directives:[a.Gu,a.sr,a.Sm,a.fG,a.W2,c.O5,a.jY,a.PM,a.Nd,a.wI,a.gu,c.sg,a.Q$],pipes:[c.uU],styles:[""]}),t})()}];let P=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({imports:[[g.Bz.forChild(I)],g.Bz]}),t})(),v=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({imports:[[c.ez,p.u5,p.UX,a.Pc,P]]}),t})()}}]);