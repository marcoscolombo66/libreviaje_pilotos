"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[4987],{4987:(M,m,i)=>{i.r(m),i.d(m,{LoginPageModule:()=>Z});var S=i(9808),r=i(4182),e=i(5649),g=i(9800),h=i(655),f=i(520),t=i(2096),v=i(849);const C=[{path:"",component:(()=>{class o{constructor(n,s,c,d,u,l,p,A){this.toastController=n,this.alertController=s,this.router=c,this.http=d,this.modalController=u,this.navCtrl=l,this.route=p,this.Str=A,this.isLoggedIn=!1}login3(n){const s=new f.WM({"Content-Type":"application/octet-stream"});this.okok=this.http.post("https://www.libreviaje.com/admin/index.php/Api4/iniciarSesion/",JSON.stringify({USUARIO:n.value.usuario,PASSWORD:n.value.password}),s).subscribe(l=>(this.okok=l,this.Str.set("datos_pasajero",l).then(p=>{this.loginExitoso()},p=>console.error("Error storing item",p)),this.navCtrl.navigateRoot("/tab1"),this.isLoggedIn=!0,this.token),l=>{this.presentAlert(),console.log("error",l)})}registrarme(){this.router.navigate(["/registro"])}loginExitoso(){return(0,h.mG)(this,void 0,void 0,function*(){const n=yield this.Str.get("datos_pasajero");(yield this.toastController.create({message:"Hola "+n[0].NOMBRE+" "+n[0].APELLIDO+"!",duration:3e3,position:"top"})).present()})}presentAlert(){return(0,h.mG)(this,void 0,void 0,function*(){yield(yield this.alertController.create({header:"Usuario y/o contrase\xf1a incorrectos",message:"Intente nuevamente",buttons:["Aceptar"]})).present()})}ngOnInit(){return(0,h.mG)(this,void 0,void 0,function*(){yield this.Str.create(),this.Str.get("login").then(n=>{n&&this.router.navigate(["/tab1"])})})}}return o.\u0275fac=function(n){return new(n||o)(t.Y36(e.yF),t.Y36(e.Br),t.Y36(g.F0),t.Y36(f.eN),t.Y36(e.IN),t.Y36(e.SH),t.Y36(g.gz),t.Y36(v.K))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-login"]],decls:32,vars:0,consts:[[2,"min-width","350px"],[1,"ionCardLogin"],[1,"isCSS"],["src","https://libreviaje.com/images/logo_top_new.png",2,"text-align","left","width","50%","height","50%"],["method","post",3,"ngSubmit"],["form","ngForm"],[1,"etiqueta"],["ngModel","","type","email","name","usuario","placeholder","Ingresa tu email"],["placeholder","Ingresa tu contrase\xf1a","ngModel","","type","password","name","password"],[2,"text-align","center"],["type","submit","fill","outline","shape","round",1,"botones"],["routerLink","/registro",1,"isCSS"],[2,"text-decoration","underline","font-weight","solid","cursor","pointer"]],template:function(n,s){if(1&n){const c=t.EpF();t.TgZ(0,"ion-content")(1,"ion-grid")(2,"ion-row"),t._UZ(3,"ion-col"),t.TgZ(4,"ion-col",0)(5,"ion-card",1)(6,"ion-card-header")(7,"ion-card-title",2),t._UZ(8,"img",3),t.qZA()(),t.TgZ(9,"form",4,5),t.NdJ("ngSubmit",function(){t.CHM(c);const u=t.MAs(10);return s.login3(u)}),t.TgZ(11,"ion-card-content")(12,"ion-card-header")(13,"ion-card-title",6),t._uU(14,"USUARIO"),t.qZA(),t.TgZ(15,"ion-card-title",6),t._UZ(16,"ion-input",7),t.qZA(),t.TgZ(17,"ion-card-title",6),t._uU(18,"CONTRASE\xd1A"),t.qZA(),t.TgZ(19,"ion-card-title",6),t._UZ(20,"ion-input",8),t.qZA(),t.TgZ(21,"ion-card-title",9)(22,"ion-button",10),t._uU(23,"VIAJAR"),t.qZA()(),t.TgZ(24,"ion-card-sub-title",11)(25,"p"),t._uU(26,"\xa0"),t.qZA(),t.TgZ(27,"p"),t._uU(28," Si no tenes cuenta, pod\xe9s "),t.TgZ(29,"span",12),t._uU(30,"registrarte"),t.qZA()()()()()()()(),t._UZ(31,"ion-col"),t.qZA()()()}},directives:[e.W2,e.jY,e.Nd,e.wI,e.PM,e.Zi,e.Dq,r._Y,r.JL,r.F,e.FN,e.pK,e.j9,r.JJ,r.On,e.YG,e.YI,g.rH],styles:["[_ngcontent-%COMP%]:root{--ion-safe-area-top: 20px;--ion-safe-area-bottom: 22px}.avatar[_ngcontent-%COMP%]{border-radius:50%;width:150px;height:150px;margin-top:10px}.alert-wrapper[_ngcontent-%COMP%], .my-custom-class[_ngcontent-%COMP%]   .alert-wrapper[_ngcontent-%COMP%]{background:#e5e5e5}.ion-card-content-class[_ngcontent-%COMP%]{max-width:300px;text-align:justify}.isCSS[_ngcontent-%COMP%]{text-align:center;max-width:240px;font-family:Gill Sans,Gill Sans MT,Calibri,Trebuchet MS,sans-serif}.centrar[_ngcontent-%COMP%]{margin-left:70px;margin-right:70px;max-width:350px;text-align:justify}.estrellita[_ngcontent-%COMP%]{color:gold}"]}),o})()}];let P=(()=>{class o{}return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[g.Bz.forChild(C)],g.Bz]}),o})(),Z=(()=>{class o{}return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[S.ez,r.u5,e.Pc,P]]}),o})()}}]);