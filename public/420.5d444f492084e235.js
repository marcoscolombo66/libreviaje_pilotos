"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[420],{420:(R,d,e)=>{e.r(d),e.d(d,{Tab3PageModule:()=>I});var l=e(9808),p=e(4182),a=e(5649),g=e(9800),u=e(655),m=e(520),_=e(9825),b=e(9940),T=e(2822),o=e(2096),A=e(7574);function f(t,s){if(1&t){const i=o.EpF();o.TgZ(0,"ion-label",9),o.NdJ("click",function(){o.CHM(i);const n=o.oxw().$implicit;return o.oxw(2).abrirChat(n.idPILOTOS_RESERVAS,n.idPILOTOS,n.idUSUARIO,n.EMAIL_PILOTO,n.NOMBRE_PASAJERO)}),o._UZ(1,"ion-icon",10),o.qZA()}}function h(t,s){if(1&t){const i=o.EpF();o.TgZ(0,"ion-label",9),o.NdJ("click",function(){o.CHM(i);const n=o.oxw().$implicit;return o.oxw(2).subirComprobante(n.idPILOTOS_RESERVAS)}),o._UZ(1,"ion-icon",11),o.qZA()}}function O(t,s){1&t&&(o.TgZ(0,"ion-label"),o._UZ(1,"ion-icon",12),o.qZA())}function S(t,s){if(1&t&&(o.TgZ(0,"ion-card")(1,"ion-row",3)(2,"ion-col",4),o._uU(3),o.qZA(),o.TgZ(4,"ion-col",4),o._uU(5),o.qZA(),o.TgZ(6,"ion-col",4),o.YNc(7,f,2,0,"ion-label",8),o.YNc(8,h,2,0,"ion-label",8),o.YNc(9,O,2,0,"ion-label",2),o.qZA()()()),2&t){const i=s.$implicit;o.xp6(3),o.AsE(" ",i.SALIDA," -> ",i.DESTINO," "),o.xp6(2),o.lnq(" $ ",i.TOTAL," (Costo total por ",i.ASIENTOS_COMPRADOS," asientos) \xa0-\xa0 ",i.ESTADO_VIAJE," "),o.xp6(2),o.Q6J("ngIf","PAGO"===i.ESTADO_RESERVA&&"PENDIENTE"===i.ESTADO_VIAJE&&"NO"!==i.COMPROBANTE),o.xp6(1),o.Q6J("ngIf","NO"===i.COMPROBANTE),o.xp6(1),o.Q6J("ngIf","NO"!==i.COMPROBANTE&&"VERIFICAR"===i.ESTADO_RESERVA)}}function P(t,s){if(1&t){const i=o.EpF();o.TgZ(0,"ion-grid")(1,"ion-card")(2,"ion-row",3)(3,"ion-col",4)(4,"span",5),o._uU(5,"SALIDA / DESTINO"),o.qZA()(),o.TgZ(6,"ion-col",4)(7,"span",5),o._uU(8,"DESCRIPCI\xd3N"),o.qZA()(),o.TgZ(9,"ion-col",4)(10,"span",5),o._uU(11,"ACCI\xd3N \xa0\xa0"),o.TgZ(12,"ion-icon",6),o.NdJ("click",function(){return o.CHM(i),o.oxw().getReservasDisponibles()}),o.qZA()()()()(),o.YNc(13,S,10,8,"ion-card",7),o.qZA()}if(2&t){const i=o.oxw();o.xp6(13),o.Q6J("ngForOf",i.reservas)}}const x=[{path:"",component:(()=>{class t{constructor(i,c,n){this.inicia=i,this.http=c,this.modalCtrl=n,this.canDismiss=!1,this.nomostrar=!0,(0,_.F)(2e4).subscribe(()=>{this.getReservasDisponibles()})}ngOnInit(){this.inicia.verificar(),this.getReservasDisponibles()}abrirEnMapa(){}voyEnCamino(){}subirComprobante(i){return(0,u.mG)(this,void 0,void 0,function*(){yield(yield this.modalCtrl.create({component:b.N,breakpoints:[0,.99],initialBreakpoint:.99,handle:!0,componentProps:{mySubject:i},animated:!0,canDismiss:!0})).present()})}abrirChat(i,c,n,r,v){return(0,u.mG)(this,void 0,void 0,function*(){yield(yield this.modalCtrl.create({component:T.J,componentProps:{mySubject:i,mySubject2:c,mySubject3:n,mySubject4:r,mySubject5:v},animated:!0,canDismiss:!0,keyboardClose:!0})).present()})}getReservasDisponibles(){return(0,u.mG)(this,void 0,void 0,function*(){this.nomostrar=!1;const i=new m.WM({"Content-Type":"application/octet-stream"});this.idUSUARIO=yield this.inicia.getUser(),this.idUSUARIO=this.idUSUARIO[0].idUSUARIO,this.http.post("https://www.libreviaje.com/admin/index.php/Api4/getReservasDisponibles/",JSON.stringify({idUSUARIO:this.idUSUARIO}),i).subscribe(n=>{this.reservas=n,this.nomostrar=!0},n=>{this.nomostrar=!1,console.log(n)})})}}return t.\u0275fac=function(i){return new(i||t)(o.Y36(A.o),o.Y36(m.eN),o.Y36(a.IN))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-tab3"]],decls:8,vars:1,consts:[["slot","start"],["src","https://libreviaje.com/images/logo_top_new.png",2,"padding-top","5px","padding-bottom","2px","width","20%","height","20%","max-width","87px","max-height","43px"],[4,"ngIf"],[1,"etiqueta"],["size","4"],[2,"font-weight","bold","color","#8C1B24"],["name","refresh-outline",2,"font-weight","bold","color","#8C1B24","font-size","20px",3,"click"],[4,"ngFor","ngForOf"],[3,"click",4,"ngIf"],[3,"click"],["name","chatbubble-ellipses-outline",2,"color","#8C1B24","font-size","22px"],["name","cloud-upload-outline","color","secondary",2,"font-size","22px"],["name","time-outline",2,"font-size","22px","color","#e0ac08"]],template:function(i,c){1&i&&(o.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0),o._UZ(3,"ion-menu-button"),o.qZA(),o._uU(4," \xa0 "),o._UZ(5,"img",1),o.qZA()(),o.TgZ(6,"ion-content"),o.YNc(7,P,14,1,"ion-grid",2),o.qZA()),2&i&&(o.xp6(7),o.Q6J("ngIf",c.nomostrar))},directives:[a.Gu,a.sr,a.Sm,a.fG,a.W2,l.O5,a.jY,a.PM,a.Nd,a.wI,a.gu,l.sg,a.Q$],styles:[""]}),t})()}];let E=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[g.Bz.forChild(x)],g.Bz]}),t})(),I=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[l.ez,p.u5,p.UX,a.Pc,E]]}),t})()}}]);